function jd(){return!0}function replaceAll(e,t){var a=e,o=e.indexOf(t);if(o>-1)for(;o>-1;)a=e.substring(0,o),a+=e.substring(o+1),o=a.indexOf(t),e=a;return a}function activarPaginador(){$("[data-paginador]").on("click",function(e){var t=$(this),a=t.parents("ul"),o=location.href;e.preventDefault(),o.search("pagina")!=-1&&(o=o.substr(0,o.search("pagina")-1)),history.pushState(null,null,o+"/pagina/"+t.data("paginador")),datos={jvista:"paginador",pagina:t.data("paginador")},new jd.ajax({parametros:datos,url:a.data("page"),funcionCarga:function(){$("#"+a.data("selector")).html(this.respuesta),activarPaginador()}})})}function validarRadio(e){var e=e,t="input[name="+e+"]";t=$(t).size()>0?t:'input[name="'+e+'[]"]';var a=($(t).prop("type"),0),o=new Array;return $(t+":checked").length>0&&(radiosSeleccionados=$(t+":checked"),$.each(radiosSeleccionados,function(){o.push(this.value),a++}),1==a?o[0]:o.join(","))}function serializar(e){var t="a:"+e.length+":{";for(i=0;i<e.length;i++)t+="i:"+i+";s:"+e[i].length+':"'+e[i]+'";';return t+="}"}function armarTiny(e){e||(e="textarea.tiny"),valoresTiny={selector:e,language:"es",plugins:[" link charmap print preview anchor","searchreplace code fullscreen","insertdatetime table paste"],toolbar:"undo redo | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image"},tinymce.init(valoresTiny)}function convertirByteAMb(e){return parseInt((e/1024/1024).toFixed(2))}function cargarArchivo(e){var t={btn:"btnImagen",nombreArchivo:"imagen",callback:!1,multiple:!0,onsubmit:function(e,t){return!(!t||!data.extensiones.test(t))&&(a.text("Cargando"),void this.disable())},url:!1,data:!1,extensiones:/^(jpg|png|jpeg|gif|JPG|PNG|JPEG)$/};data=$.extend(t,e);var a=$("#"+data.btn);data||(data=""),new AjaxUpload(a,{multiple:!0,action:data.url,name:data.nombreArchivo,data:data,onSubmit:data.onsubmit,onComplete:data.callback})}function scroll(){$("[data-scroll=true]").on("click",function(e){e.preventDefault();var t=$(this.hash);if(t=t.length&&t||$("[name="+this.hash.slice(1)+"]"),t.length){var a=t.offset().top;return $("html,body").animate({scrollTop:a},900),!1}})}function initCarousel(){$("#j-carousel").owlCarousel({singleItem:!0,slideSpeed:700,paginationSpeed:700,rewindSpeed:700,lazyEffect:"fade",navigation:!1,pagination:!1,paginationNumbers:!1,autoHeight:!1,addClassActive:!0})}function getActiveIndex(){link=window.location.pathname,idSeccion=jd.replaceAll(link,"/");$(".owl-item .active > .item");$("[data-id="+idSeccion+"]").data("owlslide",1)}if(function(e){function t(t,o){e(this);return this.each(function(e,i){v=new a(i,t,o)})}var a=function(t,a,o){this.objeto=t,this.configuracion=a,this.$obj=e(this.objeto),this.init(),this._FileReader=new FileReader},o='[data-jida="cargaFile"]';a.prototype={regExps:{imagen:/\.(jpe?g|png|gif)$/i},_archivosCargados:0,_archivosSeleccionados:0,_obtConfiguracion:function(){var t={preCarga:this._defaultPrecarga,onLoadArchivo:this._defaultOnload,postCarga:function(){},multiple:!1,name:"_jcargaArchivo",btnCarga:!1,onLoad:!1};this._configuracion=e.extend(t,this.configuracion)},init:function(){this._obtConfiguracion(),$file=e("<input>").attr({type:"file",id:this._configuracion.name,name:this._configuracion.name,style:"display:none",multiple:this._configuracion.multiple}),this.$obj.after($file),this.$file=$file,this.file=$file.get(0),this._manejarEventos()},_managerChange:function(e){var t=e.target,a=this;this._archivosSeleccionados=t.files.length,a._configuracion.preCarga.call(a,e)},_managerLoadEnd:function(t){var a=(t.target,this);++a._archivosCargados,this._configuracion.btnCarga?e(this._configuracion.btnCarga).on("click",this._postData.bind(this)):a._archivosCargados==a._archivosSeleccionados&&this._configuracion.url&&this._postData()},_postData:function(){var t=new FormData,a=this,o=a._archivosCargados>1?a._configuracion.name+"[]":a._configuracion.name;[].forEach.call(a._archivos,function(e){t.append(o,e)}),e.ajax({url:this._configuracion.url,type:"post",processData:!1,contentType:!1,data:t,dataType:"json",success:a._configuracion.postCarga.bind(a)})},_manejarEventos:function(){var e=this;this.$obj.on("click",function(t){e._configuracion.preCarga.call(e,t),this.$file.trigger("click"),this.file.addEventListener("change",this._managerChange.bind(this))}.bind(this))},_defaultPrecarga:function(e){var t=e.target,a=this,o=t.files;this._archivos=o,o&&(band=0,[].forEach.call(o,function(e){e.id_app=band,++band;var t=this,a=new FileReader;a.addEventListener("load",t._configuracion.onLoad.bind(t),!1),a.addEventListener("loadend",this._managerLoadEnd.bind(t),!1),a.readAsDataURL(e)}.bind(a)))},_defaultOnload:function(t){var a=new Image,o=t.target;a.height=150,a.title=o.title,a.src=o.result,$li=e("<li>").html(a),e("#imagenes").append($li),++this._archivoCargados},_previewImage:function(){}},e.fn.jCargaFile=t,e(o).each(function(e,t){console.log(e,t),new a(t)})}(jQuery),jd.inicializandoAjax=0,jd.cargandoAjaxUno=1,jd.cargandoAjaxDos=2,jd.listoInteraccionAjax=3,jd.listoAjaxCompleto=4,jd.contentTypeForm="application/x-www-form-urlencoded",jd.ajax=function(e){try{this.parametros=e,this.valores=this.inicializarValores(),this.enviarData()}catch(e){console.error(e)}},jd.ajax.prototype={valoresPredeterminados:{contentType:"application/x-www-form-urlencoded",metodo:"POST",funcionCarga:null,contentype:!0,parametros:null,respuesta:"html",cargando:"<div class='cargaAjax'> Cargando...</div>",funcionProgreso:!1,pushstate:!1},inicializarValores:function(){var e=$.extend(this.valoresPredeterminados,this.parametros);return e},httpr:function(){var e=!1;try{e=new ActiveXObject("Msxml2.XMLHTTP")}catch(t){try{e=new ActiveXObject("Microsoft.XMLHTTP")}catch(t){e=!1}}return e||"undefined"==typeof XMLHttpRequest||(e=new XMLHttpRequest),e},enviarData:function(){var e="s-ajax=true";this.obAjax=this.httpr(),objeto=this,ajax=this.obAjax,ajax.onreadystatechange=function(){objeto.Listo.call(objeto)},"object"==typeof this.valores.parametros&&null!=this.valores.parametros?(e+="&",$.each(this.valores.parametros,function(t,a){e+="&"+encodeURI(t)+"="+encodeURI(a)})):"string"==typeof this.valores.parametros&&(e+="&"+this.valores.parametros),"get"!=this.valores.metodo&&"GET"!=this.valores.metodo||(this.valores.url+="?"+e),ajax.open(this.valores.metodo,this.valores.url,!0),1==this.valores.contentype&&(ajax.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),ajax.setRequestHeader("HTTP_X_REQUESTED_WITH","XMLHttpRequest"),ajax.setRequestHeader("X-Requested-With","XMLHttpRequest")),ajax.send(e),setTimeout(function(){console.log(ajax.readyState),1!=ajax.readyState&&0!=ajax.readyState||(ajax.abort(),console.log("La llamada ajax a tardado demasiado"))},15e3)},Listo:function(){if(ajax=this.obAjax,ajax.readyState!=jd.cargandoAjaxUno&&ajax.readyState!=jd.cargandoAjaxDos||($(".cargaAjax").remove(),$("body").prepend(this.valores.cargando)),ajax.readyState==jd.listoAjaxCompleto){$(".cargaAjax").remove();var e=ajax.status;200==e||0==e?(this.procesarRespuesta(),typeof this.valores.pushState!==!1&&this.validarPushState(),this.valores.funcionCarga.call(this)):this.errorCarga()}},validarPushState:function(){"object"==typeof this.valores.pushState?(pushStateDefault={id:null,title:null,url:null},state=$.extend(pushStateDefault,this.valores.pushState),history.pushState(state.id,state.title,state.url)):"string"==typeof this.valores.pushState&&history.pushState(null,null,this.valores.pushState),window.addEventListener("popstate",function(e){console.log("im here")})},errorCarga:function(){window.location.href=window.location.pathname+"#error",console.log("Error estatus: "+this.obAjax.status)},procesarRespuesta:function(){var e;switch(this.valores.respuesta){case"json":e=JSON.parse(this.obAjax.responseText);break;default:e=this.obAjax.responseText}this.respuesta=e}},+function(){function e(e){return this.each(function(){var t=$(this);new ControlCarga(t,e)})}ControlCarga=function(e,t){this.inicializarValores(t),this.init(e,t)},ControlCarga.prototype={inicializarValores:function(e){var t={multiple:!1};if("string"==typeof e){if(this.botonCarga=e,console.log(this.botonCarga),this.conf=t,$(this.botonCarga).size()<1)throw console.log("No se encuentra definido el boton de envio")}else this.conf=$.extend(t,e)},init:function(e,t){obj=this;var e=$(e),a=$('<input type="file"/>').css({display:"none",bottm:"0",position:"absolute"});obj.conf.multiple&&(a.prop("multiple",!0),a.attr("name",a.attr("name")+"[]")),e.after(a),e.on("click",function(){a.click()}),a.on("change",function(){this.files}),console.log(obj.botonCarga),$(obj.botonCarga).on("click",function(e){for(e.preventDefault(),archivos=a[0].files,console.log(archivos),formData=new FormData,i=0;i<archivos.length;++i)formData.append("archivos[]",archivos[i],archivos[i].name);new jd.ajax({url:"/excel/carga-archivo",file:formData,respuesta:"html",funcionCarga:function(){$("#respuestaCarga").html(this.respuesta)}})})}},cargaArchivo=function(e){jd.cargador(this,e)},$.fn.controlCarga=e,$.fn.controlCarga.Contructor=ControlCarga,jQuery.fn.jd=new jd}(jQuery),function(e){e.fn.jidaControl=function(){elemento=this,elemento.each(function(){e(this).data("jidacontrolaply")||new jd.controladorInput(this)})}}(jQuery),jd.controladorInput=function(e,t){this.control=e,this.controlObject=$(e),objeto=this,this.validacion=this.controlObject.data("jidacontrol"),this.inicializador()},jd.controladorInput.prototype={inicializador:function(){if(formato="",this.validaciones[this.validacion]){patronXDefault={tipo:1},patronDeValidacion=this.validaciones[this.validacion],patron=$.extend(patronXDefault,patronDeValidacion),controladores=["controlador","controladorCaracter","controladorDecimal"],funcionControlador=controladores[patron.tipo];"#"+this.controlObject.prop("id");$(this.controlObject).data("jidacontrolaply",!0),$(this.controlObject).on("keypress",{validacion:objeto.validaciones[this.validacion].cadena,formato:objeto.formatosDisponibles[this.validacion]},objeto[funcionControlador]),$(this.controlObject).on("keyup",{formato:objeto.formatosDisponibles[this.validacion]},this.formateador)}},controladorDecimal:function(e){if(tecla=String.fromCharCode(e.which),key=e.which,isCtrl=!1,8==e.which||9==e.which||9==e.keyCode||37==e.which||38==e.which||39==e.which||40==e.which||222==e.keyCode||222==e.which)return!0;if(17==key&&(isCtrl=!0),1!=isCtrl||37!=key&&39!=key&&46!=key&&161!=key&&225!=key&&17!=key&&18!=key)if(patron=e.data.validacion,patron.test(tecla)){if(decimal=$(this).data("decimal"),decimal="undefined"==typeof decimal?0:decimal,elemento=$(this),valorNumero=elemento.val(),tamValorNumero=valorNumero.length+1,tamValorNumero>=decimal+1){for(numeroSinFormato=replaceAll(valorNumero,"."),valorNumero.indexOf(",")>=0&&(numeroSinFormato=valorNumero.replace(",","")),numeroSinFormato+=tecla,numA=numeroSinFormato.substr(numeroSinFormato.length-decimal),numSinPunto=replaceAll(numeroSinFormato.substr(0,numeroSinFormato.length-decimal),"."),numSinPunto=numSinPunto,numB="",i=1;numSinPunto.length>3;)numB="."+numSinPunto.substr(numSinPunto.length-3)+numB,numSinPunto=numSinPunto.substring(0,numSinPunto.length-3);numB=numSinPunto+numB,decimal>0?numeroFinal=numB+","+numA:numeroFinal=numB,elemento.val(numeroFinal),e.preventDefault()}}else e.preventDefault();else e.preventDefault()},controladorCaracter:function(e){return tecla=String.fromCharCode(e.which),key=e.which,isCtrl=!1,8==e.which||9==e.which||9==e.keyCode||37==e.keyCode||39==e.keyCode||46==e.keyCode||222==e.keyCode||222==e.which||(17==key&&(isCtrl=!0),1!=isCtrl||37!=key&&39!=key&&46!=key&&161!=key&&225!=key&&17!=key&&18!=key?(patron=e.data.validacion,patron.test(tecla)?(decimal=$(this).data("decimal"),decimal):e.preventDefault()):e.preventDefault(),this)},controlador:function(e){if(tecla=String.fromCharCode(e.which),key=e.which,isCtrl=!1,8==e.which||9==e.which||9==e.keyCode||37==e.which||38==e.which||39==e.which||40==e.which||222==e.keyCode||222==e.which)return!0;if(17==key&&(isCtrl=!0),1!=isCtrl||37!=key&&39!=key&&46!=key&&161!=key&&225!=key&&17!=key&&18!=key){if(patron=e.data.validacion,formato=e.data.formato,cadenaInsertada=this.value+tecla,tamCadena=cadenaInsertada.length,cadenaValidada=cadenaInsertada+formato.substr(tamCadena),patron.test(cadenaValidada))return!0;e.preventDefault()}else e.preventDefault();return this},formateador:function(e){return cadenaInsertada=$(this).val().toUpperCase(),tamCadena=cadenaInsertada.length,e.data.formato?(formato=e.data.formato,tamanioFormato=formato.length):tamanioFormato=100,8!=e.which&&(caracteresDeSeparacion=/^[\/.\-]{1}$/,proximoCaracter=formato[tamCadena],tamanioFormato>=tamCadena&&(caracterEsperado=formato[tamCadena-1],caracterIngresado=cadenaInsertada[tamCadena-1],caracteresDeSeparacion.test(caracterEsperado)?(cadenaInsertada[tamCadena-1]=caracterEsperado,caracterIngresado=caracterIngresado!=caracterEsperado?caracterIngresado:"",$(this).val(cadenaInsertada+caracterIngresado)):caracteresDeSeparacion.test(proximoCaracter)&&proximoCaracter!=caracterEsperado&&$(this).val(cadenaInsertada+proximoCaracter))),this},validaciones:{numerico:{cadena:/^[0-9]*$/,tipo:1},cedula:{cadena:/^([V|E|G|J|P|N]\-{1}\d{8})*$/,tipo:0},rifConFormato:{cadena:/^([V|E|G|J|P|N]\-{1}\d{8}-{1}\d{1})*$/,tipo:0},rif:{cadena:/^([V|v|E|e|G|g|J|j|P|p|N|n]\d{9})*$/,tipo:0},telefono:{cadena:/^(\d{11})*$/,tipo:1},miles:{cadena:/^[0-9]*$/,tipo:2},caracteres:{cadena:/^[A-ZñÑa-z ]*$/},alfanumerico:{cadena:/^[0-9A-ZñÑa-z ]*$/},coordenada:{cadena:/^\-?[0-9]{2}\.[0-9]{3,15}/,tipo:0},fecha:{cadena:/^\d{2,4}[\-|\/]{1}\d{2}[\-|\/]{1}\d{2,4}$/,tipo:0}},formatosDisponibles:{rif:"J123456789",rifConFormato:"J-12345678-9",fecha:"00-00-0000"}},!jd)var jd=Object();jd.vista=function(e,t){this.nombreVista=e,this.seccionVista=$("#"+this.nombreVista),this.pageToCall=this.seccionVista.data("sitio"),this.tipoControl=t?t:1,$vista=this.seccionVista,$jvista=this},jd.vista.prototype={ini:function(){this.armarOpcionesOrden(),this.seleccionarAllRows(),this.validarBotones(),this.validarSeleccion(),this.validarOpcionesNoLink()},armarVista:function(){this.vistaHTML="",this.ini()},seleccionarAllRows:function(){var e="[data-jvista=seleccionarTodas]",t=$(e).length;t>0&&$vista.on("click",e,function(){bool=1==$(this).prop("checked"),$("input[type=checkbox]").each(function(){$(this).prop("checked",bool)})})},validarBotones:function(){2==this.tipoControl&&$("input:checkbox").on("click",function(){var e=$("input:checkbox:checked").length,t=$("[data-multiple=false]");e>1?t.attr("disabled",!0):t.attr("disabled",!1)})},armarOpcionesOrden:function(){this.seccionVista.find("TH");$vista.on("click","TH",function(){var e=$(this);if("orden"==e.data("jvista")){var t=e.data("name"),a=e.data("indice"),o=e.data("order-celda");$jvista.armarVistaToAjax({jvista:"orden",campo:t,numeroCampo:a,order:o})}})},armarVistaToAjax:function(e){seccionVista=this.seccionVista,new jd.ajax({metodo:"POST",parametros:e,respuesta:"html",funcionCarga:function(e){seccionVista.html(this.respuesta)},url:$jvista.pageToCall})},mostrarVistaToAjax:function(){seccionVista.data("div-eliminar","1"),seccionVista.html(this.vistaHTML),$("[data-div-eleminiar=1]").remove()},checkSeleccion:function(e,t){return opcion="seleccionar",e&&(opcion=e),console.log("llego a la seleccion "+opcion,$vista),seleccion=validarRadio(opcion),seleccion!==!1&&seleccion},validarSeleccion:function(e){var t="seleccionar",a='[data-jvista="seleccion"]';$ctrl=$(a),$ctrl.length>0&&(console.log("yeah man",$vista),$vista.on("click",a,function(e){var a=$(this),o=a.data("msjerror")?a.data("msjerror"):"Debe seleccionar un campo";return a.data("jopcion")&&(t=a.data("jopcion")),seleccion=validarRadio(t),seleccion===!1?("undefined"!=typeof bootbox?bootbox.alert(o):console.log("Debe seleccionar un campo a modificar"),!1):(key=$(this).data("jkey")?$(this).data("jkey"):"id",href=$(this).prop("href"),$(this).prop("href",href+"/"+key+"/"+seleccion),void 0)}))},validarOpcionesNoLink:function(){var e=($("[data-jvista=modal]"),'[data-jvista="modal"]');$vista.on("click",e,function(e){$this=$(this),e.preventDefault();var t=$this.data("link")?$this.data("link"):$this.attr("href");new jd.ajax({url:t,metodo:"POST",respuesta:"html",funcionCarga:function(){bootbox.dialog({message:this.respuesta})}})});var t="[data-jvista=confirm]";$vista.on("click",t,function(e){var t=$(this);e.preventDefault();var a=t.data("link"),o=t.data("msj");"undefined"==typeof a&&(a=t.attr("href")),t.data("select")&&(seleccion=$jvista.checkSeleccion(),0==seleccion?bootbox.alert("Debe seleccionar un campo"):(key=t.data("jkey")?t.data("jkey"):"id",a=a+"/"+key+"/"+seleccion)),bootbox.confirm(o,function(e){e===!0&&(window.location.href=a)})})}},$(document).ready(function(){$("[data-dependiente]").length>0&&$("[data-dependiente]").each(function(e,t){$campo=$(t);var a=$campo.data("dependiente"),o=$campo.data("accion");$("#"+a).on("change",function(){var e=$(this),a=e.attr("id"),i=e.val(),n=new Object;n[a]=i,new jd.ajax({metodo:"POST",url:o,parametros:n,funcionCarga:function(e){$(t).html(this.respuesta)}})})}),activarPaginador(),$("[data-liparent] > a").on("click",function(){ele=$(this).parent(),padreUl=ele.parents("ul"),hijosUL=ele.children("ul:first"),hijosUL.length>0&&(hijosUL.toggleClass("show"),hijosUL.hasClass("show")?(ele.addClass("selected"),ele.siblings("li").removeClass("selected").children("ul").fadeOut().removeClass("show")):(ele.removeClass("selected"),$("li").removeClass("selected")))}),$('[data-jida="goback"]').on("click",function(){window.history.back()});var e='[data-jida="vista"]';$(e).each(function(){var e=$(this),t=e.attr("id"),a=e.data("tipocontrol");jdVista=new jd.vista(t,a),jdVista.armarVista()})}),+function(e){var t="[data-liparent]",a=function(a){e(t).on("click",this.checksubnivel)};a.prototype.checksubnivel=function(){var t=e(this);console.log("ak?"),t.children("ul").size()>0&&(t.children("ul").hasClass("show")?(e("ul.show").removeClass("show"),t.removeClass("selected")):(e("ul.show").removeClass("show"),e("li").removeClass("selected"),t.addClass("selected"),t.children("ul").addClass("show")))}}(jQuery),function($){function jPlugin(e,t){$(this);return this.each(function(t,a){$(this).on("click",function(t){a=new jValidador(this,e,t)})})}jValidador=function(e,t,a){if(this._default={funcionError:this.mensajeError,totalError:!1,divError:!1,cssError:"div-error",vControl:!0,post:!1,prev:!1,validaciones:!1,form:!1,campo:!1,viaData:!1},e)if(this.$ele=$(e),this.config=t,this.errores=new Object,"object"==typeof this.config?this.config=$.extend(this._default,this.config):this.config=this._default,this.config.campo){this.$ele=$(e);this.initInput()}else{this.$ele.data("config",this.config),this.config.form?this.$form=$("#"+this.config.form):this.$form=$(this.$ele[0].form),this.$ele.data("jd.validador",this),this.$form.data("jd.validador",this);this.init()||a.preventDefault()}else console.log("ele is FALSE")},jValidador.VERSION="1.1";var jdValidador='[data-jida="validador"]';jValidador.replaceAll=function(e,t,a){a||(a="");var o=e,i=e.indexOf(t);if(i>-1)for(;i>-1;)o=e.substring(0,i),o=o+a+e.substring(i+1),i=o.indexOf(t),this.errores=TRUE,e=o;return o},$.fn.validadorJida=jPlugin,jValidador.prototype={initInput:function(e){return $ele=this.$ele,bandera=!0,jv=this,$ele.data("validacion")&&bandera===!0&&!jv.validar($ele,jv.verificarValidaciones($ele.data("validacion")))?(eval(jv.config.funcionError).call(this,$ele),jv.erroresCampo=!0,bandera=!1,bandera):bandera},erroresCampo:!1,init:function(e){var t=this.$ele;if(jv=t.data("jd.validador"),jv.errores=new Object,o=!0,jv.validarFuncionesExternas("prev")){var a=this.$form,o=!0;"undefined"==typeof a&&"undefined"==typeof a.elements||($.each(a[0].elements,function(e,t){var a=$(t),i=jv.obtValidacionesCampo(a);if(i&&o===!0&&!jv.validar(a,jv.verificarValidaciones(i)))return jv.totalErrores||jv.config.funcionError.call(this,a,jv),o=!1}),o&&(o=jv.validarFuncionesExternas("post")))}else o=!1;return o},obtValidacionesCampo:function(e){return this.config.viaData?e.data("validacion"):"undefined"!=this.config.validaciones[e.attr("id")]&&this.config.validaciones[e.attr("id")]},validarFuncionesExternas:function(tipo){return 0==this.config[tipo]||"undefined"==typeof this.config[tipo]||("string"==typeof this.config[tipo]?result=eval(this.config[tipo]).call(this,jv.$form):result=this.config[tipo].call(this),result)},validar:function(e,t){var a=!0;return 1!=t.obligatorio&&"object"!=typeof t.obligatorio||(a=jv.obligatorio(e,t.obligatorio)),a?$.each(t,function(t,o){if(type=typeof parametros,0!=o&&1==a&&"obligatorio"!=t)if(jv[t])jv[t](e,t,o)||(jv.errores[e.attr("id")]=t,a=!1);else{if(!jValidador.validaciones[t])throw console.log(t),console.log(o),new Error("No existe la validacion solicitada "+t+" para el campo "+e.attr("id"));jv.ejecutarValidacion(e,t)||(jv.errores[e.attr("name")]=t,a=!1)}}):jv.errores[e.attr("id")]="obligatorio",a},externa:function(e,t,a){if(a.funcion)return a.funcion.call(this,e,t,a);if(a.expr)return this.ejecutarValidacion(e,t,a.expr);throw new Error("No se ha formulado correctamente la validacione xterna"+t)},expr:function(e,t,a){return this.ejecutarValidacion(e,t,a.expr)},ejecutarValidacion:function(e,t,a){a||(a=jValidador.validaciones[t].expr);var o=e.val();return"numerico"!=t&&"decimal"!=t||(o=jValidador.replaceAll(o,"."),"decimal"==t&&o.replace(",",".")),""==o||!!a.test(o)},mensajeError:function(e,t){if(e){$input=e;var a=jv.errores[e.attr("id")],o=t.obtValidacionesCampo(e),i="",n=t.$form.find("."+t.config.cssError);i=void 0!=o[a]&&o[a].mensaje?o[a].mensaje:jValidador.validaciones[a].mensaje,n.length>0?$input.parent().hasClass("control-multiple")?($input.focus().parent().before(n.html(i).show()),$("html,body").animate({scrollTop:$input.offset().top-200})):($input.focus().before(n.html(i).show()),$("html,body").animate({scrollTop:$input.offset().top-200})):($divError=$("<div></div>").addClass(jv.config.cssError).html(i),t.$form.on("click",function(e){$(e.target).attr("id")!=jv.$ele.attr("id")&&$divError.fadeOut()}),$input.parent().hasClass("control-multiple")?($input.focus().parent().before($divError).show(),$("html,body").animate({scrollTop:$input.offset().top-200})):($input.focus().before($divError).show(),$("html,body").animate({scrollTop:$input.offset().top-200}))),console.log(i)}},verificarValidaciones:function(e){var t={numerico:!1,documentacion:!1,obligatorio:!1,caracteres:!1};return"undefined"!=typeof e?(e instanceof Array&&(newObject=Object(),$.each(e,function(e,t){newObject[t]=!0}),e=newObject),$.extend(t,e)):t},obligatorio:function(e,t){"undefined"==typeof t.evaluacion&&(t.evaluacion="igual");var a=e.attr("type");"montoPago"==e.attr("id");var o=!0;if(t.condicional){var i,n=$("#"+t.condicional);switch(t.tipo&&"radio"==t.tipo||"radio"==n.attr("type")?(nombreCampo=n.attr("name"),i=$("input[name="+nombreCampo+"]:checked").val()):i=n.val(),o=!1,t.evaluacion){case"igual":i==t.condicion&&(o=!0);break;case"diff":i!=t.condicion&&(o=!0);break;case"mayor":i>t.condicion&&(o=!0);break;case"menor":i<t.condicion&&(o=!0)}}else o=!0;if(o===!0)switch(a){case"RADIO":case"radio":case"CHECKBOX":case"checkbox":nombreCampo=e.attr("name"),$('input[name="'+nombreCampo+'"]:checked').length>0?resp=!0:resp=!1;break;default:""==e.val().trim()?resp=!1:resp=!0}else resp=!0;return resp},documentacion:function(e,t,a){var o=jValidador.validaciones[t].expr,i=e.val();return a.campo_codigo&&(i=e.prev().val()+i),""==i||!!o.test(i)},telefono:function(e,t,a){var o=11,i="",n="",r=jValidador.validaciones.telefono.expr,s=jValidador.validaciones.celular.expr,c=jValidador.validaciones.internacional.expr,l=e.val();if(a.code&&(i=$("#"+e.attr("id")+"-codigo").val(),jv.divMsjError="#box"+jValidador.replaceAll(e.attr("id"),"#","")),a.ext&&(o+=4,n=$("#"+e.attr("id")+"-ext").val()),l=i+l+n,""!=l){var d=s.test(l)?1:0,u=r.test(l)?1:0,h=c.test(l)?1:0;return!!(a.tipo&&("telefono"==a.tipo&&1==u||"celular"==a.tipo&&1==d||"internacional"==a.tipo&&1==h||"multiple"==a.tipo&&(1==u||1==d))||!a.tipo&&1==u)}return!0},igualdad:function(e,t,a){return campo=$("#"+a.campo),e.val()==campo.val()},contrasenia:function(e,t,a){var o=jValidador.validaciones.minuscula.expr,i=jValidador.validaciones.mayuscula.expr,n=jValidador.validaciones.numero.expr,r=jValidador.validaciones.caracteresEsp.expr,s=e.val();if(""!=s){var c=o.test(s)?1:0,l=i.test(s)?1:0,d=n.test(s)?1:0,u=r.test(s)?1:0;return 1==c&&1==l&&1==d&&1==u&&s.length>=8}return!1},obtErrores:function(){return jv.errores}},jValidador.validaciones={obligatorio:{mensaje:"El campo no puede estar vacio"},email:{expr:/^[_a-zA-Z0-9-]+(\.[_a-zA-Z0-9-]+)*@[a-zA-Z0-9-]+(\.[a-zA-Z0-9-]+)*(\.[a-zA-Z]{2,3})$/,mensaje:"El campo debe ser un mail"},numerico:{expr:/^\d+$/,mensaje:"El campo debe ser numerico"},moneda:{expr:/^\d+$/,mensaje:"El campo debe ser numerico"},decimal:{expr:/^([0-9])*[.|,]?[0-9]*$/,mensaje:"El campo debe ser numerico con decimales"},caracteres:{expr:/^[A-ZñÑa-záéíóúÁÉÍÓÚ ]*$/,mensaje:"El campo solo puede contener caracteres"},celular:{expr:/^0?(412|416|414|424|426)\d{7}$/,mensaje:"El formato del celular no es valido"},telefono:{expr:/^0?2[0-9]{9,13}$/,mensaje:"El formato del telefono no es valido"},caracteresEspeciales:{expr:/^([^(*=;\\)])*$/,mensajes:"Caracteres invalidos en el campo"},tiny:{mensaje:"El campo es obligatorio"},alfanumerico:{expr:/^[\dA-ZñÑa-záéíóúÁÉÍÓÚ.,\' ]*$/,mensaje:"El campo solo puede contener letras y numeros"},documentacion:{expr:/^([V|E|G|J|P|N]{1}\d{8,10})*$/,mensaje:"El campo debe tener el siguiente formato J-18935170"},programa:{expr:/^[\d\/\.A-Za-z_-]*$/,mensaje:"El campo solo puede contener letras, guion y underscore"},minuscula:{expr:/[a-z]/,mensaje:"La contraseña debe tener al menos una minuscula"},mayuscula:{expr:/[A-Z]/,mensaje:"La contraseña debe tener al menos una mayuscula"},numero:{expr:/[0-9]/,mensaje:"La contraseña debe tener al menos un número"},caracteresEsp:{expr:/(\||\!|\"|\#|\$|\%|\&|\/|\(|\)|\=|\'|\?|\<|\>|\,|\;|\.|\:|\-|\_|\*|\~|\^|\{|\}|\+)/,mensaje:"La contraseña debe tener al menos un caracter especial"},coordenada:{expr:/^\-?[0-9]{2}\.[0-9]{3,15}/,mensaje:"La coordenada debe tener el siguiente formato:"},internacional:{expr:/^\d{9,18}$/,mensaje:"El telefono internacional no es valido"}},$.fn.jValidador=jPlugin,$(document).on("click",jdValidador,function(e){if(void 0!=$(this).data("config"))var t=$(this).data("config");else var t=new Object;t.viaData=!0,new jValidador(this,t,e)})}(jQuery),function(){function addEvent(e,t,a){if(e.addEventListener)e.addEventListener(t,a,!1);else{if(!e.attachEvent)throw new Error("not supported or DOM not loaded");e.attachEvent("on"+t,function(){a.call(e)})}}function addResizeEvent(e){var t;addEvent(window,"resize",function(){t&&clearTimeout(t),t=setTimeout(e,100)})}function getBox(e){var t,a,o,i,n=getOffset(e);return t=n.left,o=n.top,a=t+e.offsetWidth,i=o+e.offsetHeight,{left:t,right:a,top:o,bottom:i}}function addStyles(e,t){for(var a in t)t.hasOwnProperty(a)&&(e.style[a]=t[a])}function copyLayout(e,t){var a=getBox(e);addStyles(t,{position:"absolute",left:a.left+"px",top:a.top+"px",width:e.offsetWidth+"px",height:e.offsetHeight+"px"})}function fileFromPath(e){return e.replace(/.*(\/|\\)/,"")}function getExt(e){return-1!==e.indexOf(".")?e.replace(/.*[.]/,""):""}function hasClass(e,t){var a=new RegExp("\\b"+t+"\\b");return a.test(e.className)}function addClass(e,t){hasClass(e,t)||(e.className+=" "+t)}function removeClass(e,t){var a=new RegExp("\\b"+t+"\\b");e.className=e.className.replace(a,"")}function removeNode(e){e.parentNode.removeChild(e)}if(document.documentElement.getBoundingClientRect)var getOffset=function(e){var t=e.getBoundingClientRect(),a=e.ownerDocument,o=a.body,i=a.documentElement,n=i.clientTop||o.clientTop||0,r=i.clientLeft||o.clientLeft||0,s=1;if(o.getBoundingClientRect){var c=o.getBoundingClientRect();s=(c.right-c.left)/o.clientWidth}s>1&&(n=0,r=0);var l=t.top/s+(window.pageYOffset||i&&i.scrollTop/s||o.scrollTop/s)-n,d=t.left/s+(window.pageXOffset||i&&i.scrollLeft/s||o.scrollLeft/s)-r;return{top:l,left:d}};else var getOffset=function(e){var t=0,a=0;do t+=e.offsetTop||0,a+=e.offsetLeft||0,e=e.offsetParent;while(e);return{left:a,top:t}};var toElement=function(){var e=document.createElement("div");return function(t){e.innerHTML=t;var a=e.firstChild;return e.removeChild(a)}}(),getUID=function(){var e=0;return function(){return"ValumsAjaxUpload"+e++}}();window.AjaxUpload=function(e,t){this._settings={action:"upload.php",name:"userfile",multiple:!1,data:{},autoSubmit:!0,responseType:!1,hoverClass:"hover",focusClass:"focus",disabledClass:"disabled",onChange:function(e,t){},onSubmit:function(e,t){},onComplete:function(e,t){}};for(var a in t)t.hasOwnProperty(a)&&(this._settings[a]=t[a]);if(e.jquery?e=e[0]:"string"==typeof e&&(/^#.*/.test(e)&&(e=e.slice(1)),e=document.getElementById(e)),!e||1!==e.nodeType)throw new Error("Please make sure that you're passing a valid element");"A"==e.nodeName.toUpperCase()&&addEvent(e,"click",function(e){e&&e.preventDefault?e.preventDefault():window.event&&(window.event.returnValue=!1)}),this._button=e,this._input=null,this._disabled=!1,this.enable(),this._rerouteClicks()},AjaxUpload.prototype={setData:function(e){this._settings.data=e},disable:function(){addClass(this._button,this._settings.disabledClass),this._disabled=!0;var e=this._button.nodeName.toUpperCase();"INPUT"!=e&&"BUTTON"!=e||this._button.setAttribute("disabled","disabled"),this._input&&this._input.parentNode&&(this._input.parentNode.style.visibility="hidden")},enable:function(){removeClass(this._button,this._settings.disabledClass),this._button.removeAttribute("disabled"),this._disabled=!1},_createInput:function(){var e=this,t=document.createElement("input");t.setAttribute("type","file"),t.setAttribute("name",this._settings.name),this._settings.multiple&&t.setAttribute("multiple","multiple"),addStyles(t,{position:"absolute",right:0,margin:0,padding:0,fontSize:"480px",fontFamily:"sans-serif",cursor:"pointer"});var a=document.createElement("div");if(addStyles(a,{display:"block",position:"absolute",overflow:"hidden",margin:0,padding:0,opacity:0,direction:"ltr",zIndex:2147483583}),"0"!==a.style.opacity){if("undefined"==typeof a.filters)throw new Error("Opacity not supported by the browser");a.style.filter="alpha(opacity=0)"}addEvent(t,"change",function(a){if(t&&""!==t.value){var o=fileFromPath(t.value);return!1===e._settings.onChange.call(e,o,getExt(o),a)?void e._clearInput():void(e._settings.autoSubmit&&e.submit(a))}}),addEvent(t,"mouseover",function(){addClass(e._button,e._settings.hoverClass)}),addEvent(t,"mouseout",function(){removeClass(e._button,e._settings.hoverClass),removeClass(e._button,e._settings.focusClass),t.parentNode&&(t.parentNode.style.visibility="hidden")}),addEvent(t,"focus",function(){addClass(e._button,e._settings.focusClass)}),addEvent(t,"blur",function(){removeClass(e._button,e._settings.focusClass)}),a.appendChild(t),document.body.appendChild(a),this._input=t},_clearInput:function(){this._input&&(removeNode(this._input.parentNode),this._input=null,this._createInput(),removeClass(this._button,this._settings.hoverClass),removeClass(this._button,this._settings.focusClass))},_rerouteClicks:function(){var e=this;addEvent(e._button,"mouseover",function(){if(!e._disabled){e._input||e._createInput();var t=e._input.parentNode;copyLayout(e._button,t),t.style.visibility="visible"}})},_createIframe:function(){var e=getUID(),t=toElement('<iframe src="javascript:false;" name="'+e+'" />');return t.setAttribute("id",e),t.style.display="none",document.body.appendChild(t),t},_createForm:function(e){var t=this._settings,a=toElement('<form method="post" enctype="multipart/form-data"></form>');a.setAttribute("action",t.action),a.setAttribute("target",e.name),a.style.display="none",document.body.appendChild(a);for(var o in t.data)if(t.data.hasOwnProperty(o)){var i=document.createElement("input");i.setAttribute("type","hidden"),i.setAttribute("name",o),i.setAttribute("value",t.data[o]),a.appendChild(i)}return a},_getResponse:function(iframe,file){
var toDeleteFlag=!1,self=this,settings=this._settings;addEvent(iframe,"load",function(){if("javascript:'%3Chtml%3E%3C/html%3E';"==iframe.src||"javascript:'<html></html>';"==iframe.src)return void(toDeleteFlag&&setTimeout(function(){removeNode(iframe)},0));var doc=iframe.contentDocument?iframe.contentDocument:window.frames[iframe.id].document;if(!(doc.readyState&&"complete"!=doc.readyState||doc.body&&"false"==doc.body.innerHTML)){var response;doc.XMLDocument?response=doc.XMLDocument:doc.body?(response=doc.body.innerHTML,settings.responseType&&"json"==settings.responseType.toLowerCase()&&(doc.body.firstChild&&"PRE"==doc.body.firstChild.nodeName.toUpperCase()&&(doc.normalize(),response=doc.body.firstChild.firstChild.nodeValue),response=response?eval("("+response+")"):{})):response=doc,settings.onComplete.call(self,file,response),toDeleteFlag=!0,iframe.src="javascript:'<html></html>';"}})},submit:function(e){var t=this,a=this._settings;if(this._input&&""!==this._input.value){var o=fileFromPath(this._input.value);if(!1===a.onSubmit.call(this,o,getExt(o),this._input,e))return void this._clearInput();var i=this._createIframe(),n=this._createForm(i);removeNode(this._input.parentNode),removeClass(t._button,t._settings.hoverClass),removeClass(t._button,t._settings.focusClass),n.appendChild(this._input),n.submit(),removeNode(n),n=null,removeNode(this._input),this._input=null,this._getResponse(i,o),this._createInput()}}}}();